<!DOCTYPE html>
<html>
<head>
	<title>Fantastic Tales - Scary Tales</title>
	<link rel="stylesheet" href="../css/main.css">
	<link rel="stylesheet" href="../css/join.css">
</head>
<body>

	<div class='wrap'>
		<header role='banner' class='header-bar'> 
			<div class='hamburger'>
				<button id='burger' type='button' class='menu-mobile-btn'> 
					<span class='hamburger-bar'></span>
					<span class='hamburger-bar'></span>
					<span class='hamburger-bar'></span>
				</button>
			</div> 
			
			<nav id='burger-menu' role='navigation' class='menu'>
				<ul class='menu-items'>
					<li><a href="../index.html">Home</a></li>
					<li><a href="#">About</a></li>
					<li><a href="tales.html">Tales</a></li>
					<li><a href="join.html">Join Us</a></li>
				</ul>
			</nav> 
		</header>

		<section class='join-form viewport100'>	
			<ul class='container'>

				<li class='panel first-panel' id='first-panel'>

					<div class='panel-title'>
						<div class='panel-text'>
							<h3>Join Us</h3>
							<p>Let us know about you</p>
						</div>	
					</div>

					<div class='form'>
						<form>
							<div class='form-line'>
								<h4>First Name</h4>
								<input type="text" name="firstname" class='form-control' id='first-name' placeholder="Name" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='first-name'></label>
							</div>
							<div class='form-line'>
								<h4>Last Name</h4>
								<input type="text" name="lastname" class='form-control' id='last-name' placeholder="Last Name" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='last-name'></label>
							</div>
							<div class='form-line'>
								<h4>Email</h4>
								<input type="email" name="Email" class='form-control' id='e-mail' placeholder="Email" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='e-mail'></label>
							</div>
						</form>
					</div>
					<div class='form-footer'>
						<button type='button' class='btn btn-next' id="next1"> Next step </button>
					</div>
				</li> <!-- end of first panel -->

				<li class='panel second-panel' id='second-panel' style="display: none;">

					<div class='panel-title'>
						<div class='panel-img'>
							<img src='../img/avatar.png' class='avatar-img' id='avatar-picture'>
							<input type="file" id="avatar-picture-upload">	
						</div>
						<h4> Choose a Picture </h4>	
					</div>

					<div class='form'>
						<form>
							<div class='form-line'>
								<h4 class='h4-img'>Display Name</h4>
								<input type="text" name="firstname" class='form-control form-control-img' id='profile-name' placeholder="Name" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='profile-name'></label>
							</div>
							
							<div class='form-line'>
								<h4 class='h4-img'>Password</h4>
								<input type="password" name="password" class='form-control form-control-img' id='profile-last-name' placeholder="Password" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='profile-last-name'></label>
							</div>

							<div class='form-line'>
								<h4 class='h4-img'>Confirm Password</h4>
								<input type="password" name="password" class='form-control form-control-img' id='e-mail' placeholder="Confirm Password" aria-required='true' aria-invalid='false'>
								<label id='firstname-error' class='error' for='e-mail'></label>
							</div>
							
						</form>
					</div>
					<div class='form-footer'>
						<button type='button' class='btn btn-next' id="next2"> Next step </button>
					</div> <!-- end form-footer -->
				</li> <!-- end of second panel -->
			</ul>
		</section>

	</div> <!-- end of wrap -->

	<script type="text/javascript">
		var tabs = [
			{container:'first-panel', next:'next1'}, 
			{container:'second-panel', next:'next2', prev:''} //prev:'prev'
		];
		var next = function(evt) {
			tabs.map(function(item, index) {
				if(evt.currentTarget.id === item.next && tabs[index + 1]){
					document.getElementById(item.container).style.display = 'none';
					document.getElementById(tabs[index + 1].container).style.display = 'block';
				}
			});
		};
		var prev = function(evt) {
			tabs.map(function(item, index) {
				if(evt.currentTarget.id === item.prev && tabs[index - 1]){
					document.getElementById(item.container).style.display = 'none';
					document.getElementById(tabs[index - 1].container).style.display = 'block';
				}
			});
		};

		tabs.map(function(item) {
			if(item.next) {
				document.getElementById(item.next).addEventListener('mouseup', next, false);
			};
			if(item.prev) {
				document.getElementById(item.prev).addEventListener('mouseup', prev, false);
			};
		});

		document.getElementById('avatar-picture-upload').addEventListener('change',function(){
			if (this.files && this.files[0]) {
			    var reader = new FileReader();

			    reader.onload = function (e) {
			        document.getElementById('avatar-picture').src = e.target.result; 
			    };

			    reader.readAsDataURL(this.files[0]);
			}
		});
	</script>

</body>
</html>